# Evolving Choropleth

Choropleth maps are a great way to visualize data across geographical regions.  A typical example would be a population density map that uses colour to encode the population density which varies across regions.  Most choropleth maps are static, so they only show the data at a specific point in time.  I wanted to create a dynamic data visualization that would change with the passage of time, so I made a map to visualize the growth of internet usage through the world since 1990.  I used [d3.js](https://d3js.org/) (version 3), which is a JavaScript library for producing interactive data visualizations.  Note that version 3 is not the newest version of d3 (there is now a version 4).

The original dataset is [here](https://docs.google.com/spreadsheets/d/1o2v5n--85X8_VHrcNNgp4RpeHK4PFIVsEwBUOW9RiFY/pub).  In order to make my life easier, I did some initial data cleaning and manipulation.  Datasets in [tidy](http://www.jeannicholashould.com/tidy-data-in-python.html) format are typically easier to work with, and the original dataset was not in this format.  Tidy format makes it easier to do analysis with the dataset, and it makes your results more reproducible because it puts the data into a standard format that many people are familiar with.  I prefer to use Pandas (a Python library) for data analysis and manipulation.

Here is the [Python script](https://github.com/marty-vanhoof/Evolving_Choropleth/blob/master/data_manipulation.py) that does the initial data cleaning.  There were some records that were missing, and I didn't want to spend too much time with the initial cleaning, so I also did some quick and dirty imputation with Excel.  Basically, I first loaded the CSV file into Pandas, dropped rows that contained all NaN values, then did some imputation with Excel, loaded the script back into Pandas where I put it into tidy format, then exported it to the final [CSV file](https://github.com/marty-vanhoof/Evolving_Choropleth/blob/master/internet_users_per100_tidy.csv) that is used by d3.  The visualization also uses a GeoJSON file (world_countries.json) to encode the geography of the world map.

The full visualization is here on [bl.ocks.org/](http://bl.ocks.org/marty-vanhoof/raw/09211ff7a97ca49afdedb8801e31baa8/).